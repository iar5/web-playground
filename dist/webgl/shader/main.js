!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=70)}({14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.degToRad=t.lerp=t.clamp=void 0,t.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},t.lerp=function(e,t,n){return e+(t-e)*n},t.degToRad=function(e){return e*Math.PI/180}},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doubleArray=t.isTouchDevice=void 0,t.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0},t.doubleArray=function(e,t,n){return Array(e).fill(n).map(()=>Array(t).fill(n))}},70:function(e,t,n){"use strict";n.r(t);var o=n(8),r=n(17),a=n(14);const i=function(e){const t=Object(r.isTouchDevice)(),n=e.getContext("experimental-webgl");var i,c;n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT);var u=[0,0],l=[0,0],s=0;function f(){i=window.innerHeight,c=window.innerWidth,c/i,e.height=i,e.width=c,n.viewport(0,0,n.canvas.width,n.canvas.height)}f(),window.addEventListener("resize",f),t||document.addEventListener("mousemove",(function(e){u[0]=1-e.clientX/c,u[1]=e.clientY/i}));const d=Object(o.createProgramFromSource)(n,"\n\tattribute vec3 a_position;\n\n\tvoid main()\t{\n\t\tgl_Position = vec4(a_position, 1.0 );\n\t}\n","\n\nprecision mediump float;\n\nuniform float u_time;\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nconst float pi = 3.14159265359;\n\nfloat rand(int seed, float ray) \n{\n\treturn mod(sin(float(seed)*363.5346+ray*674.2454)*6743.4365, 1.0);\n}\n\n\nvec3 lampcirc (vec2 pt, vec2 pos, float power, float fallof, vec3 color)\n{\n\tpt = pt - pos;\n\tfloat d = length(pt);\n\t//vec3 col = vec3(0.5, 0.5, 0.9) * (pow(dist, -0.8) * 0.11);\n\tvec3 col = color * (pow(d, power * -1.0) * fallof) - (d/3.0 * fallof);\n\treturn col;\n}\n\nvec3 lamprect (vec2 pt, vec2 pos, vec2 size, float power, float fallof, vec3 color)\n{\n  \tfloat d = length(max(abs(pt - pos), size) - size);\n\treturn color * (pow(d, power * -1.0) * fallof) - (d/3.0 * fallof);   \n}\n\n\nvoid main( void )\n{\n\tvec2 npos = gl_FragCoord.xy / u_resolution.xy;   // 0.0 .. 1.0\n\tfloat aspect = u_resolution.x / u_resolution.y;    // aspect ratio x/y\n \tvec2 ratio = vec2(aspect, 1.0);                // aspect ratio (x/y,1)\n \tvec2 uv = (2.0 * npos - 1.0) * ratio;          // -1.0 .. 1.0\n \tvec2 pt = uv;\n\t\n\tvec2 pos = vec2(0,0);\n  \tvec2 size = vec2(0.1, 0.01);\n  \tfloat power = .2;\n\tfloat fallof = 0.2;\n\tvec3 light_color = vec3(0.1, 0.1, 0.1);\n\n\tsize = u_mouse/1.9;\n\tsize.x *= min(aspect, 1.1);\n\t\n\tfloat f = 0.5 + (1.+sin(fallof*u_time))/3.0;\n\n\n  \tvec3 col1 = lamprect(pt, pos, size, power, f, light_color);\n\tgl_FragColor = vec4(col1, 1.0);\n}\n\n"),p=new Float32Array([-1,1,-1,-1,1,1,1,-1]),m=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,m),n.enableVertexAttribArray(d.a_position),n.vertexAttribPointer(d.a_position,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,p,n.STATIC_DRAW),d.a_position=n.getAttribLocation(d,"a_position"),d.u_resolution=n.getUniformLocation(d,"u_resolution"),d.u_time=n.getUniformLocation(d,"u_time"),d.u_mouse=n.getUniformLocation(d,"u_mouse");var v=0;return requestAnimationFrame((function e(o){requestAnimationFrame(e);let r=o-v;v=o,t&&(l[0]==u[0]&&l[0]==u[0]?(s=0,l[0]=Math.random(),l[1]=Math.random()):(s+=r/1e3/2,s=Math.min(s,1),u[0]=Object(a.lerp)(u[0],l[0],s),u[1]=Object(a.lerp)(u[1],l[1],s)));n.uniform2fv(d.u_mouse,u),n.uniform1f(d.u_time,o/1e3),n.uniform2fv(d.u_resolution,[c,i]),n.drawArrays(n.TRIANGLE_STRIP,0,p.length/2)})),{destroy(){Object(o.destroyGl)(n)}}};t.default=i;const c=document.createElement("canvas");document.body.append(c),new i(c)},8:function(e,t,n){"use strict";function o(e,t){const n=new XMLHttpRequest;n.open("GET",e+"?please-dont-cache="+Math.random(),!0),n.onload=function(){t(n.responseText)},n.send()}function r(){return!!document.createElement("canvas").getContext("webgl2")}function a(e,t,n){const o=e.createProgram();let r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(r)),e.attachShader(o,r);let a=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(a,n),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(a)),e.attachShader(o,a),e.linkProgram(o),e.useProgram(o),o}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyGl=t.createProgramFromFiles=t.createProgramFromSource=t.getHighestWebGL=t.isWebGL2Supported=t.loadTextResource=void 0,t.loadTextResource=o,t.isWebGL2Supported=r,t.getHighestWebGL=function(e){return r?e.getContext("webgl2"):e.getContext("webgl")},t.createProgramFromSource=a,t.createProgramFromFiles=function(e,t,n,r){o(t,t=>{o(n,n=>{const o=a(e,t,n);r(o)})})},t.destroyGl=function(e){e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.canvas.width=1,e.canvas.height=1,e.getExtension("WEBGL_lose_context").loseContext()}}});
//# sourceMappingURL=main.js.map