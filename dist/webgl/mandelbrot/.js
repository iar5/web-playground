!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=44)}({10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doubleArray=t.isTouchDevice=void 0,t.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},t.doubleArray=function(e,t,n){return Array(e).fill(n).map((function(){return Array(t).fill(n)}))}},3:function(e,t,n){"use strict";n.r(t),n.d(t,"isKeyHold",(function(){return r})),n.d(t,"resetKeys",(function(){return i}));const o=[];function r(e){return-1!=o.indexOf(e)}function i(){o.length=0}document.addEventListener("keydown",(function(e){-1==o.indexOf(e.key)&&o.push(e.key)})),document.addEventListener("keyup",(function(e){const t=o.indexOf(e.key);o.splice(t,1)})),document.addEventListener("visibilitychange",()=>{i()}),window.addEventListener("pagehide",()=>{i()})},44:function(e,t,n){"use strict";n.r(t);var o=n(6);document.addEventListener("touchstart",e=>{!function(e){1!=e.touches.length||f||(u=0,c=0,a=0,s=0,r=e.touches[0].clientX,i=e.touches[0].clientY)}(e),function(e){if(2==e.touches.length){f=!0;let t=m(e.touches[0],e.touches[1]);d=t,l=t}}(e)}),document.addEventListener("touchmove",e=>{!function(e){if(1==e.touches.length&&!f){let t=e.touches[0].clientX,n=e.touches[0].clientY;u=r-t,c=i-n}}(e),function(e){2==e.touches.length&&(l=m(e.touches[0],e.touches[1]))}(e)}),document.addEventListener("touchend",e=>{!function(e){0==e.touches.length&&(f=!1)}(e)});var r=0,i=0,u=0,c=0,a=0,s=0;var d=0,l=0,f=!1;function m(e,t){let n=e.clientX-t.clientX,o=e.clientY-t.clientY;return Math.sqrt(n*n+o*o)}var g=n(3),h=n(10);const v=new function(){let e=0,t=0,n=0,o=(new Date).getTime(),r=(new Date).getTime(),i=0;return{tick(){const r=Date.now();e++,n++,t+=r-o,o=r,t>=1e3&&(i=n,n=0,t-=1e3)},getFPS:()=>i,getTotalFrames:()=>e,getDelta(){const e=Date.now();let t=e-r;return r=e,t}}},b=document.getElementById("canvas");!function(e){e.addEventListener("touchstart",e=>{e.preventDefault()}),e.addEventListener("touchmove",e=>{e.preventDefault()}),e.addEventListener("touchend",e=>{e.preventDefault()})}(b);const p=b.getContext(Object(o.isWebGL2Supported)()?"webgl2":"webgl");p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT);const y=new Float32Array([-1,1,-1,-1,1,1,1,-1]),E=[[5,7,26],[9,1,47],[4,4,73],[0,7,100],[12,44,138],[24,82,177],[57,125,209],[134,181,229],[211,236,248],[241,233,191],[248,201,95],[255,170,0],[204,128,0],[153,87,0],[106,52,3],[66,30,15]],L=Object(h.isTouchDevice)();var w,A,F,R;T();var S=[-.5,0],_=2;function x(){L?(S[0]-=_*function(){let e=u-a;return a=u,-e}()/1e3,S[1]+=_*function(){let e=c-s;return s=c,-e}()/1e3,_/=function(){let e=l-d;return d=l,1+e/500}()):(Object(g.isKeyHold)("d")&&(S[0]+=.01*_),Object(g.isKeyHold)("a")&&(S[0]-=.01*_),Object(g.isKeyHold)("w")&&(S[1]+=.01*_),Object(g.isKeyHold)("s")&&(S[1]-=.01*_),Object(g.isKeyHold)("e")&&(_/=1.015),Object(g.isKeyHold)("q")&&(_*=1.015)),function(){let e=Date.now();p.uniform2fv(R.uCenter,S),p.uniform1f(R.uZoom,_),p.uniform1f(R.uRatio,F),p.uniform1i(R.uMaxIterations,500),p.uniform1f(R.uAnimation,(t=Math.floor((e-P)/15),t/=15)),p.drawArrays(p.TRIANGLE_STRIP,0,y.length/2);var t}(),v.tick(),document.getElementById("center").textContent=`[re: ${S[0]}, im: ${S[1]}]`,document.getElementById("zoom").textContent=1/_,document.getElementById("fps").textContent=v.getFPS(),requestAnimationFrame(x)}Object(o.createProgramFromFiles)(p,"./mandelbrot.vs","./mandelbrot.fs",e=>{R=e,T();const t=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,t),p.enableVertexAttribArray(R.aPosition),p.vertexAttribPointer(R.aPosition,2,p.FLOAT,!1,0,0),p.bufferData(p.ARRAY_BUFFER,y,p.STATIC_DRAW),R.aPosition=p.getAttribLocation(R,"a_position"),R.uAnimation=p.getUniformLocation(R,"u_animation"),R.uMaxIterations=p.getUniformLocation(R,"u_maxIterations"),R.uZoom=p.getUniformLocation(R,"u_zoom"),R.uCenter=p.getUniformLocation(R,"u_center"),R.uRatio=p.getUniformLocation(R,"u_ratio");for(let e=0;e<E.length;e++)p.uniform3fv(p.getUniformLocation(R,`u_colors[${e}]`),E[e]);requestAnimationFrame(x)});var P=Date.now();function T(){w=b.height=window.innerHeight,A=b.width=window.innerWidth,F=A/w,p&&p.viewport(0,0,p.canvas.width,p.canvas.height)}window.addEventListener("resize",T)},6:function(e,t,n){"use strict";function o(e,t){var n=new XMLHttpRequest;n.open("GET",e+"?please-dont-cache="+Math.random(),!0),n.onload=function(){t(n.responseText)},n.send()}function r(){return!!document.createElement("canvas").getContext("webgl2")}function i(e,t,n){var o=e.createProgram(),r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(r)),e.attachShader(o,r);var i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(i)),e.attachShader(o,i),e.linkProgram(o),e.useProgram(o),o}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyGl=t.createProgramFromFiles=t.createProgramFromSource=t.getHighestWebGL=t.isWebGL2Supported=t.loadTextResource=void 0,t.loadTextResource=o,t.isWebGL2Supported=r,t.getHighestWebGL=function(e){return r?e.getContext("webgl2"):e.getContext("webgl")},t.createProgramFromSource=i,t.createProgramFromFiles=function(e,t,n,r){o(t,(function(t){o(n,(function(n){var o=i(e,t,n);r(o)}))}))},t.destroyGl=function(e){e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.canvas.width=1,e.canvas.height=1,e.getExtension("WEBGL_lose_context").loseContext()}}});
//# sourceMappingURL=.js.map